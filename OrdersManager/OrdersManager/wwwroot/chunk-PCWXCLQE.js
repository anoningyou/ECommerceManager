import{a as V,b as $,c as j,d as A,e as L,f as U,g as q,h as B,i as G,j as J,k as K,l as Q,m as X,n as Y}from"./chunk-YGWO4DB4.js";import{a as Z}from"./chunk-ZZBSGMMQ.js";import{a as O}from"./chunk-R7QASVIY.js";import{f as T}from"./chunk-O3SJPPXD.js";import"./chunk-Z345HIYL.js";import"./chunk-ZHH5LIR5.js";import{A as H,B as W,a as k,v as z,w as N,x as F}from"./chunk-QDSZNKKS.js";import"./chunk-BEGFXWGT.js";import{Cb as n,Db as o,Eb as R,Fb as d,Gb as C,H as S,Ib as x,Lb as h,Nb as P,Xb as r,Zb as f,_a as i,cc as b,dc as v,ea as u,ia as M,jb as g,pb as p,sa as w,ta as y,tb as s,uc as E,wc as I,za as D}from"./chunk-FVSJTNRY.js";var _=class extends Y{name};var te=()=>[10,25,50,100];function ae(e,t){e&1&&(n(0,"mat-header-cell"),r(1," Name "),o())}function ne(e,t){if(e&1&&(n(0,"mat-cell"),r(1),o()),e&2){let a=t.$implicit;i(),f(" ",a.name," ")}}function oe(e,t){e&1&&(n(0,"mat-header-cell"),r(1," Last Name "),o())}function ie(e,t){if(e&1&&(n(0,"mat-cell"),r(1),o()),e&2){let a=t.$implicit;i(),f(" ",a.lastName," ")}}function re(e,t){e&1&&(n(0,"mat-header-cell"),r(1," Address "),o())}function le(e,t){if(e&1&&(n(0,"mat-cell"),r(1),o()),e&2){let a=t.$implicit;i(),f(" ",a.address," ")}}function me(e,t){e&1&&R(0,"mat-header-row",12)}function se(e,t){if(e&1){let a=x();n(0,"mat-row",13),h("click",function(){let c=w(a).$implicit,m=P();return y(m.onCustomerClick(c))}),o()}e&2&&s("title","See report")}var ee=class e{_customersService=u(Z);_destroyRef=u(D);_router=u(T);filter=g(new _);customersResult=g({result:[],pagination:{pageNumber:0,pageSize:10,totalCount:0,totalPages:0}});customers=E(()=>this.customersResult().result??[]);displayedColumns=["name","lastName","address"];constructor(){I(()=>{this._customersService.getCustomers(this.filter()).pipe(S(1),k(this._destroyRef)).subscribe(t=>{this.customersResult.set(t)})},{allowSignalWrites:!0})}onPagination(t){(this.filter().pageNumber!==t.pageIndex+1||this.filter().pageSize!==t.pageSize)&&this.filter.update(a=>Object.assign({},a,{pageNumber:t.pageIndex+1,pageSize:t.pageSize}))}onCustomerClick(t){this._router.navigate([`${O.Reports.Root.key}/${t.id}`])}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=M({type:e,selectors:[["app-customers"]],standalone:!0,features:[b],decls:18,vars:7,consts:[["appearance","outlined",1,"container"],[1,"header"],[1,"content"],[1,"table",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","address"],["class","table-header",4,"matHeaderRowDef"],["class","customer-row",3,"title","click",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"pager",3,"page","length","pageSize","pageSizeOptions"],[1,"table-header"],[1,"customer-row",3,"click","title"]],template:function(a,l){if(a&1&&(n(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),r(3,"Customers"),o()(),n(4,"mat-card-content",2)(5,"mat-table",3),d(6,4),p(7,ae,2,0,"mat-header-cell",5)(8,ne,2,1,"mat-cell",6),C(),d(9,7),p(10,oe,2,0,"mat-header-cell",5)(11,ie,2,1,"mat-cell",6),C(),d(12,8),p(13,re,2,0,"mat-header-cell",5)(14,le,2,1,"mat-cell",6),C(),p(15,me,1,0,"mat-header-row",9)(16,se,1,1,"mat-row",10),o(),n(17,"mat-paginator",11),h("page",function(m){return l.onPagination(m)}),o()()()),a&2){let c,m;i(5),s("dataSource",l.customers()),i(10),s("matHeaderRowDef",l.displayedColumns),i(),s("matRowDefColumns",l.displayedColumns),i(),s("length",(c=l.customersResult().pagination)==null?null:c.totalCount)("pageSize",(m=l.customersResult().pagination)==null?null:m.pageSize)("pageSizeOptions",v(6,te))}},dependencies:[X,j,L,G,U,A,J,q,B,K,Q,$,V,W,z,F,H,N],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;gap:8px}.table[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow-y:auto}.table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{position:sticky;top:0}.pager[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0}.customer-row[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})};export{ee as CustomersComponent};
