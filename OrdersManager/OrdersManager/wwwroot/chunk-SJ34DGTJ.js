import{a as q,b as A,c as J,d as K,e as L,f as Q,g as V,h as X,i as Y,j as Z,k as $,l as ee,m as te,n as ae}from"./chunk-YGWO4DB4.js";import{a as D}from"./chunk-6WQZ7ZKH.js";import{a as re}from"./chunk-Z345HIYL.js";import"./chunk-ZHH5LIR5.js";import{A as U,B as G,a as N,v as j,w as W,x as B}from"./chunk-QDSZNKKS.js";import{e as H,g as k}from"./chunk-BEGFXWGT.js";import{Cb as r,Db as o,Eb as P,Fb as C,Gb as _,H as y,Hc as M,Lb as v,Xb as l,Zb as h,_ as b,_a as i,bc as x,cc as I,dc as O,ea as f,ec as S,fc as F,gc as E,ia as w,jb as g,pb as p,tb as m,uc as T,wc as z,za as R}from"./chunk-FVSJTNRY.js";var s=class extends ae{name};var d=class e extends k{constructor(){super()}getProducts(t){return re(this.getUrl(H.Products.GetProducts),this.getHttpParams(t),this.http)}static \u0275fac=function(a){return new(a||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var ne=()=>[10,25,50,100];function le(e,t){e&1&&(r(0,"mat-header-cell"),l(1," Name "),o())}function me(e,t){if(e&1&&(r(0,"mat-cell"),l(1),o()),e&2){let a=t.$implicit;i(),h(" ",a.name," ")}}function ce(e,t){e&1&&(r(0,"mat-header-cell"),l(1," Price "),o())}function pe(e,t){if(e&1&&(r(0,"mat-cell"),l(1),S(2,"decimalPrice"),S(3,"currency"),o()),e&2){let a=t.$implicit;i(),h(" ",E(3,3,F(2,1,a.price),"USD")," ")}}function se(e,t){e&1&&P(0,"mat-header-row",11)}function de(e,t){e&1&&P(0,"mat-row")}var oe=class e{_productsService=f(d);_destroyRef=f(R);filter=g(new s);productsResult=g({result:[],pagination:{pageNumber:0,pageSize:10,totalCount:0,totalPages:0}});products=T(()=>this.productsResult().result??[]);displayedColumns=["name","price"];constructor(){z(()=>{this._productsService.getProducts(this.filter()).pipe(y(1),N(this._destroyRef)).subscribe(t=>{this.productsResult.set(t)})},{allowSignalWrites:!0})}onPagination(t){(this.filter().pageNumber!==t.pageIndex+1||this.filter().pageSize!==t.pageSize)&&this.filter.update(a=>Object.assign({},a,{pageNumber:t.pageIndex+1,pageSize:t.pageSize}))}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=w({type:e,selectors:[["app-products"]],standalone:!0,features:[x([D,M]),I],decls:15,vars:7,consts:[["appearance","outlined",1,"container"],[1,"header"],[1,"content"],[1,"table",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","price"],["class","table-header",4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["aria-label","Select page",1,"pager",3,"page","length","pageSize","pageSizeOptions"],[1,"table-header"]],template:function(a,n){if(a&1&&(r(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),l(3,"Products"),o()(),r(4,"mat-card-content",2)(5,"mat-table",3),C(6,4),p(7,le,2,0,"mat-header-cell",5)(8,me,2,1,"mat-cell",6),_(),C(9,7),p(10,ce,2,0,"mat-header-cell",5)(11,pe,4,6,"mat-cell",6),_(),p(12,se,1,0,"mat-header-row",8)(13,de,1,0,"mat-row",9),o(),r(14,"mat-paginator",10),v("page",function(c){return n.onPagination(c)}),o()()()),a&2){let u,c;i(5),m("dataSource",n.products()),i(7),m("matHeaderRowDef",n.displayedColumns),i(),m("matRowDefColumns",n.displayedColumns),i(),m("length",(u=n.productsResult().pagination)==null?null:u.totalCount)("pageSize",(c=n.productsResult().pagination)==null?null:c.pageSize)("pageSizeOptions",O(6,ne))}},dependencies:[te,J,L,Y,Q,K,Z,V,X,$,ee,A,q,G,j,B,U,W,D,M],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}.container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center;gap:8px}.table[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow-y:auto}.table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{position:sticky;top:0}.pager[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0}"],changeDetection:0})};export{oe as ProductsComponent};
